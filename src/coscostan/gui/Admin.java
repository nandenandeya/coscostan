package coscostan.gui;

import gui.AdminLogin;
import coscostan.dao.KamarDAO;
import coscostan.dao.PenghuniDAO;
import coscostan.dao.TipeKamarDAO;
import coscostan.model.Kamar;
import coscostan.model.Penghuni;
import coscostan.model.TipeKamar;
import javax.swing.table.DefaultTableModel;
import javax.swing.JOptionPane;
import java.util.List;
import javax.swing.JComboBox;
import javax.swing.DefaultCellEditor;

/**
 *
 * @author Nadya
 */
public class Admin extends javax.swing.JFrame {
    
    private AdminLogin parentForm;
    private String username;
    
    public Admin(AdminLogin parentForm, String username) {
        this.parentForm = parentForm;
        this.username = username;
        initComponents();
        setLocationRelativeTo(null);
        setTitle("Admin Dashboard - " + username);
        
        loadKamarDataToTable();
        updateDashboardStatistics();
        initTambahKamarForm();
        resetAllButtons();
        loadPenghuniDataToTable();     // Untuk tab statistik penghuni
        updatePenghuniStatistics();    // Untuk tab statistik penghuni
    }
    
    private static final java.util.logging.Logger logger = java.util.logging.Logger.getLogger(Admin.class.getName());

    /**
     * Creates new form Admin
     */
    public Admin() {
        initComponents();
    }
    
    private void initTambahKamarForm() {
        // Kosongkan field input
    nomorKamarBaruLabel.setText("");
    statusKamarBaruComboBox.setSelectedIndex(0);
    
    // Load data tipe kamar ke combo box
    loadTipeKamarToComboBox();
    
    // Update label ID kamar
    updateIdKamarBaruLabel();
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel2 = new javax.swing.JPanel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jPanel38 = new javax.swing.JPanel();
        jPanel45 = new javax.swing.JPanel();
        jLabel23 = new javax.swing.JLabel();
        jPanel46 = new javax.swing.JPanel();
        jLabel24 = new javax.swing.JLabel();
        jPanel47 = new javax.swing.JPanel();
        adminUsernameLabel = new javax.swing.JLabel();
        jPanel48 = new javax.swing.JPanel();
        jLabel26 = new javax.swing.JLabel();
        logoutButton = new javax.swing.JButton();
        btnRefreshDashboard = new javax.swing.JButton();
        jPanel49 = new javax.swing.JPanel();
        jLabel28 = new javax.swing.JLabel();
        totalPenghuniField = new javax.swing.JLabel();
        jPanel50 = new javax.swing.JPanel();
        jLabel30 = new javax.swing.JLabel();
        totalRequestLabel = new javax.swing.JLabel();
        jPanel51 = new javax.swing.JPanel();
        totalKamarField = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        jPanel52 = new javax.swing.JPanel();
        jLabel34 = new javax.swing.JLabel();
        totalTipeKamarField = new javax.swing.JLabel();
        jPanel53 = new javax.swing.JPanel();
        jLabel36 = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jPanel56 = new javax.swing.JPanel();
        jPanel57 = new javax.swing.JPanel();
        jLabel25 = new javax.swing.JLabel();
        statistikKamar = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        kamarTerisiLabel = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        kamarKosongLabel = new javax.swing.JLabel();
        kamarMaintenanceLabel = new javax.swing.JLabel();
        jLabel94 = new javax.swing.JLabel();
        totalKamarLabel = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        kamarTable = new javax.swing.JTable();
        refresh = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jPanel61 = new javax.swing.JPanel();
        jPanel62 = new javax.swing.JPanel();
        jLabel32 = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        idKamarBaruLabel = new javax.swing.JTextField();
        nomorKamarBaruLabel = new javax.swing.JTextField();
        batalTambahKamarButton = new javax.swing.JButton();
        tambahKamarButton = new javax.swing.JButton();
        statusKamarBaruComboBox = new javax.swing.JComboBox<>();
        IDTipeKamarBaruComboBox = new javax.swing.JComboBox<>();
        jPanel8 = new javax.swing.JPanel();
        cariIDKamar = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        jScrollPane8 = new javax.swing.JScrollPane();
        tabelHasilPencarian = new javax.swing.JTable();
        ubahKamarButton = new javax.swing.JButton();
        simpanPerubahanKamar = new javax.swing.JButton();
        batalPerubahan = new javax.swing.JButton();
        hapusKamarButton = new javax.swing.JButton();
        jTextField5 = new javax.swing.JTextField();
        cariButton = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jPanel59 = new javax.swing.JPanel();
        statistikKamar1 = new javax.swing.JPanel();
        totalPenghuniLabel = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        penghuniTable = new javax.swing.JTable();
        jPanel58 = new javax.swing.JPanel();
        jLabel27 = new javax.swing.JLabel();
        refreshPenghuni = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 997, Short.MAX_VALUE)
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 611, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel38.setBackground(new java.awt.Color(9, 21, 25));

        jPanel45.setBackground(new java.awt.Color(22, 51, 61));
        jPanel45.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jPanel45.setMaximumSize(new java.awt.Dimension(32767, 320));
        jPanel45.setPreferredSize(new java.awt.Dimension(133, 200));

        jLabel23.setBackground(new java.awt.Color(255, 255, 204));
        jLabel23.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel23.setForeground(new java.awt.Color(255, 255, 204));
        jLabel23.setText("Coscostan");

        javax.swing.GroupLayout jPanel45Layout = new javax.swing.GroupLayout(jPanel45);
        jPanel45.setLayout(jPanel45Layout);
        jPanel45Layout.setHorizontalGroup(
            jPanel45Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel45Layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(jLabel23, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(23, 23, 23))
        );
        jPanel45Layout.setVerticalGroup(
            jPanel45Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel45Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel23, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(427, 427, 427))
        );

        jPanel46.setBackground(new java.awt.Color(22, 51, 61));

        jLabel24.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel24.setForeground(new java.awt.Color(255, 255, 204));
        jLabel24.setText("Welcome, Admin");

        javax.swing.GroupLayout jPanel46Layout = new javax.swing.GroupLayout(jPanel46);
        jPanel46.setLayout(jPanel46Layout);
        jPanel46Layout.setHorizontalGroup(
            jPanel46Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel46Layout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addComponent(jLabel24)
                .addContainerGap(241, Short.MAX_VALUE))
        );
        jPanel46Layout.setVerticalGroup(
            jPanel46Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel46Layout.createSequentialGroup()
                .addGap(45, 45, 45)
                .addComponent(jLabel24)
                .addContainerGap(49, Short.MAX_VALUE))
        );

        jPanel47.setBackground(new java.awt.Color(5, 11, 14));
        jPanel47.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        adminUsernameLabel.setBackground(new java.awt.Color(255, 255, 204));
        adminUsernameLabel.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        adminUsernameLabel.setForeground(new java.awt.Color(255, 255, 204));
        adminUsernameLabel.setText("username admin");

        javax.swing.GroupLayout jPanel48Layout = new javax.swing.GroupLayout(jPanel48);
        jPanel48.setLayout(jPanel48Layout);
        jPanel48Layout.setHorizontalGroup(
            jPanel48Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 65, Short.MAX_VALUE)
        );
        jPanel48Layout.setVerticalGroup(
            jPanel48Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 63, Short.MAX_VALUE)
        );

        jLabel26.setBackground(new java.awt.Color(255, 255, 204));
        jLabel26.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel26.setForeground(new java.awt.Color(255, 255, 204));
        jLabel26.setText("Coscostan Admin");

        logoutButton.setText("Log Out");
        logoutButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                logoutButtonActionPerformed(evt);
            }
        });

        btnRefreshDashboard.setText("Refresh Data");
        btnRefreshDashboard.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRefreshDashboardActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel47Layout = new javax.swing.GroupLayout(jPanel47);
        jPanel47.setLayout(jPanel47Layout);
        jPanel47Layout.setHorizontalGroup(
            jPanel47Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel47Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(jPanel47Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(logoutButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel47Layout.createSequentialGroup()
                        .addComponent(jPanel48, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel47Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel26, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(adminUsernameLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(0, 26, Short.MAX_VALUE))
                    .addComponent(btnRefreshDashboard, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel47Layout.setVerticalGroup(
            jPanel47Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel47Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(jPanel47Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel48, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel47Layout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(adminUsernameLabel)))
                .addGap(18, 18, 18)
                .addComponent(logoutButton, javax.swing.GroupLayout.DEFAULT_SIZE, 42, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnRefreshDashboard, javax.swing.GroupLayout.DEFAULT_SIZE, 42, Short.MAX_VALUE)
                .addGap(20, 20, 20))
        );

        jPanel49.setBackground(new java.awt.Color(5, 11, 14));
        jPanel49.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel49.setForeground(new java.awt.Color(204, 255, 204));

        jLabel28.setBackground(new java.awt.Color(255, 255, 204));
        jLabel28.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel28.setForeground(new java.awt.Color(255, 255, 204));
        jLabel28.setText("Total Penghuni");

        totalPenghuniField.setBackground(new java.awt.Color(255, 255, 204));
        totalPenghuniField.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalPenghuniField.setForeground(new java.awt.Color(255, 255, 204));
        totalPenghuniField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalPenghuniField.setText("0");

        javax.swing.GroupLayout jPanel49Layout = new javax.swing.GroupLayout(jPanel49);
        jPanel49.setLayout(jPanel49Layout);
        jPanel49Layout.setHorizontalGroup(
            jPanel49Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel49Layout.createSequentialGroup()
                .addGroup(jPanel49Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel49Layout.createSequentialGroup()
                        .addGap(46, 46, 46)
                        .addComponent(jLabel28))
                    .addGroup(jPanel49Layout.createSequentialGroup()
                        .addGap(92, 92, 92)
                        .addComponent(totalPenghuniField)))
                .addContainerGap(49, Short.MAX_VALUE))
        );
        jPanel49Layout.setVerticalGroup(
            jPanel49Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel49Layout.createSequentialGroup()
                .addContainerGap(22, Short.MAX_VALUE)
                .addComponent(totalPenghuniField)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel28)
                .addGap(16, 16, 16))
        );

        jPanel50.setBackground(new java.awt.Color(5, 11, 14));
        jPanel50.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel30.setBackground(new java.awt.Color(255, 255, 204));
        jLabel30.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel30.setForeground(new java.awt.Color(255, 255, 204));
        jLabel30.setText("Request Kamar");

        totalRequestLabel.setBackground(new java.awt.Color(255, 255, 204));
        totalRequestLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalRequestLabel.setForeground(new java.awt.Color(255, 255, 204));
        totalRequestLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalRequestLabel.setText("3");

        javax.swing.GroupLayout jPanel50Layout = new javax.swing.GroupLayout(jPanel50);
        jPanel50.setLayout(jPanel50Layout);
        jPanel50Layout.setHorizontalGroup(
            jPanel50Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel50Layout.createSequentialGroup()
                .addGap(48, 48, 48)
                .addComponent(jLabel30)
                .addContainerGap(44, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel50Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(totalRequestLabel)
                .addGap(93, 93, 93))
        );
        jPanel50Layout.setVerticalGroup(
            jPanel50Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel50Layout.createSequentialGroup()
                .addContainerGap(20, Short.MAX_VALUE)
                .addComponent(totalRequestLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel30)
                .addGap(18, 18, 18))
        );

        jPanel51.setBackground(new java.awt.Color(5, 11, 14));
        jPanel51.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        totalKamarField.setBackground(new java.awt.Color(255, 255, 204));
        totalKamarField.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalKamarField.setForeground(new java.awt.Color(255, 255, 204));
        totalKamarField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalKamarField.setText("0");

        jLabel33.setBackground(new java.awt.Color(255, 255, 204));
        jLabel33.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel33.setForeground(new java.awt.Color(255, 255, 204));
        jLabel33.setText("Total Kamar");

        javax.swing.GroupLayout jPanel51Layout = new javax.swing.GroupLayout(jPanel51);
        jPanel51.setLayout(jPanel51Layout);
        jPanel51Layout.setHorizontalGroup(
            jPanel51Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel51Layout.createSequentialGroup()
                .addGroup(jPanel51Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel51Layout.createSequentialGroup()
                        .addGap(58, 58, 58)
                        .addComponent(jLabel33))
                    .addGroup(jPanel51Layout.createSequentialGroup()
                        .addGap(94, 94, 94)
                        .addComponent(totalKamarField)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel51Layout.setVerticalGroup(
            jPanel51Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel51Layout.createSequentialGroup()
                .addContainerGap(22, Short.MAX_VALUE)
                .addComponent(totalKamarField)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel33)
                .addGap(16, 16, 16))
        );

        jPanel52.setBackground(new java.awt.Color(5, 11, 14));
        jPanel52.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel34.setBackground(new java.awt.Color(255, 255, 204));
        jLabel34.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel34.setForeground(new java.awt.Color(255, 255, 204));
        jLabel34.setText("Tipe Kamar");

        totalTipeKamarField.setBackground(new java.awt.Color(255, 255, 204));
        totalTipeKamarField.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalTipeKamarField.setForeground(new java.awt.Color(255, 255, 204));
        totalTipeKamarField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalTipeKamarField.setText("0");

        javax.swing.GroupLayout jPanel52Layout = new javax.swing.GroupLayout(jPanel52);
        jPanel52.setLayout(jPanel52Layout);
        jPanel52Layout.setHorizontalGroup(
            jPanel52Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel52Layout.createSequentialGroup()
                .addGap(63, 63, 63)
                .addGroup(jPanel52Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel34)
                    .addGroup(jPanel52Layout.createSequentialGroup()
                        .addGap(34, 34, 34)
                        .addComponent(totalTipeKamarField)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel52Layout.setVerticalGroup(
            jPanel52Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel52Layout.createSequentialGroup()
                .addContainerGap(20, Short.MAX_VALUE)
                .addComponent(totalTipeKamarField)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel34)
                .addGap(18, 18, 18))
        );

        jPanel53.setBackground(new java.awt.Color(22, 51, 61));

        jLabel36.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel36.setForeground(new java.awt.Color(255, 255, 204));
        jLabel36.setText("Admin Profile");

        javax.swing.GroupLayout jPanel53Layout = new javax.swing.GroupLayout(jPanel53);
        jPanel53.setLayout(jPanel53Layout);
        jPanel53Layout.setHorizontalGroup(
            jPanel53Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel53Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addComponent(jLabel36)
                .addContainerGap(161, Short.MAX_VALUE))
        );
        jPanel53Layout.setVerticalGroup(
            jPanel53Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel53Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel36)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel38Layout = new javax.swing.GroupLayout(jPanel38);
        jPanel38.setLayout(jPanel38Layout);
        jPanel38Layout.setHorizontalGroup(
            jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel38Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jPanel45, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(31, 31, 31)
                .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel38Layout.createSequentialGroup()
                        .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel49, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel52, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel51, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel50, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(jPanel46, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 53, Short.MAX_VALUE)
                .addComponent(jPanel47, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(20, 20, 20))
            .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel38Layout.createSequentialGroup()
                    .addContainerGap(689, Short.MAX_VALUE)
                    .addComponent(jPanel53, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(13, 13, 13)))
        );
        jPanel38Layout.setVerticalGroup(
            jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel38Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel45, javax.swing.GroupLayout.PREFERRED_SIZE, 457, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel38Layout.createSequentialGroup()
                        .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel38Layout.createSequentialGroup()
                                .addComponent(jPanel46, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jPanel49, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jPanel51, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel38Layout.createSequentialGroup()
                                .addGap(68, 68, 68)
                                .addComponent(jPanel47, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel52, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jPanel50, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel38Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel38Layout.createSequentialGroup()
                    .addGap(26, 26, 26)
                    .addComponent(jPanel53, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGap(737, 737, 737)))
        );

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel38, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel38, javax.swing.GroupLayout.PREFERRED_SIZE, 516, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(260, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("DashBoard", jPanel1);

        jPanel56.setBackground(new java.awt.Color(9, 21, 25));

        jPanel57.setBackground(new java.awt.Color(22, 51, 61));
        jPanel57.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jPanel57.setMaximumSize(new java.awt.Dimension(32767, 320));
        jPanel57.setPreferredSize(new java.awt.Dimension(133, 200));

        jLabel25.setBackground(new java.awt.Color(255, 255, 204));
        jLabel25.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel25.setForeground(new java.awt.Color(255, 255, 204));
        jLabel25.setText("Coscostan");

        javax.swing.GroupLayout jPanel57Layout = new javax.swing.GroupLayout(jPanel57);
        jPanel57.setLayout(jPanel57Layout);
        jPanel57Layout.setHorizontalGroup(
            jPanel57Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel57Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jLabel25, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(41, 41, 41))
        );
        jPanel57Layout.setVerticalGroup(
            jPanel57Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel57Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(554, Short.MAX_VALUE))
        );

        statistikKamar.setBackground(new java.awt.Color(22, 51, 61));

        jLabel2.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 255, 204));
        jLabel2.setText("Terisi");

        kamarTerisiLabel.setBackground(new java.awt.Color(255, 255, 204));
        kamarTerisiLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        kamarTerisiLabel.setForeground(new java.awt.Color(255, 255, 204));
        kamarTerisiLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        kamarTerisiLabel.setText("0");

        jLabel7.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(255, 255, 204));
        jLabel7.setText("Kosong");

        kamarKosongLabel.setBackground(new java.awt.Color(255, 255, 204));
        kamarKosongLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        kamarKosongLabel.setForeground(new java.awt.Color(255, 255, 204));
        kamarKosongLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        kamarKosongLabel.setText("0");

        kamarMaintenanceLabel.setBackground(new java.awt.Color(255, 255, 204));
        kamarMaintenanceLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        kamarMaintenanceLabel.setForeground(new java.awt.Color(255, 255, 204));
        kamarMaintenanceLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        kamarMaintenanceLabel.setText("0");

        jLabel94.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel94.setForeground(new java.awt.Color(255, 255, 204));
        jLabel94.setText("Maintenance");

        totalKamarLabel.setBackground(new java.awt.Color(255, 255, 204));
        totalKamarLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalKamarLabel.setForeground(new java.awt.Color(255, 255, 204));
        totalKamarLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalKamarLabel.setText("0");

        jLabel3.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 204));
        jLabel3.setText("Total Kamar");

        javax.swing.GroupLayout statistikKamarLayout = new javax.swing.GroupLayout(statistikKamar);
        statistikKamar.setLayout(statistikKamarLayout);
        statistikKamarLayout.setHorizontalGroup(
            statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(statistikKamarLayout.createSequentialGroup()
                .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addGap(92, 92, 92)
                        .addComponent(totalKamarLabel))
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addGap(52, 52, 52)
                        .addComponent(jLabel3)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 102, Short.MAX_VALUE)
                .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2)
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addGap(16, 16, 16)
                        .addComponent(kamarTerisiLabel)))
                .addGap(120, 120, 120)
                .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addComponent(kamarMaintenanceLabel)
                        .addGap(160, 160, 160)
                        .addComponent(kamarKosongLabel)
                        .addGap(113, 113, 113))
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addComponent(jLabel94)
                        .addGap(79, 79, 79)
                        .addComponent(jLabel7)
                        .addGap(84, 84, 84))))
        );
        statistikKamarLayout.setVerticalGroup(
            statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(statistikKamarLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addComponent(kamarKosongLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel7))
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addComponent(totalKamarLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel3))
                    .addGroup(statistikKamarLayout.createSequentialGroup()
                        .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(kamarTerisiLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(kamarMaintenanceLabel, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(statistikKamarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel94)
                            .addComponent(jLabel2))))
                .addContainerGap(26, Short.MAX_VALUE))
        );

        kamarTable.setForeground(new java.awt.Color(0, 102, 0));
        kamarTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "ID Kamar", "Tipe Kamar", "Nomor Kamar", "ID Penghuni", "Status"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        kamarTable.setAlignmentX(3.0F);
        jScrollPane1.setViewportView(kamarTable);

        refresh.setText("Refresh Data");
        refresh.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel56Layout = new javax.swing.GroupLayout(jPanel56);
        jPanel56.setLayout(jPanel56Layout);
        jPanel56Layout.setHorizontalGroup(
            jPanel56Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel56Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(jPanel57, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel56Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel56Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jScrollPane1)
                        .addComponent(statistikKamar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(refresh, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel56Layout.setVerticalGroup(
            jPanel56Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel56Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel56Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel56Layout.createSequentialGroup()
                        .addComponent(statistikKamar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 271, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(refresh, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel57, javax.swing.GroupLayout.PREFERRED_SIZE, 627, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(139, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel56, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jPanel56, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Statistik Kamar", jPanel3);

        jPanel61.setBackground(new java.awt.Color(9, 21, 25));

        jPanel62.setBackground(new java.awt.Color(22, 51, 61));
        jPanel62.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jPanel62.setMaximumSize(new java.awt.Dimension(32767, 320));
        jPanel62.setPreferredSize(new java.awt.Dimension(133, 200));

        jLabel32.setBackground(new java.awt.Color(255, 255, 204));
        jLabel32.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel32.setForeground(new java.awt.Color(255, 255, 204));
        jLabel32.setText("Coscostan");

        javax.swing.GroupLayout jPanel62Layout = new javax.swing.GroupLayout(jPanel62);
        jPanel62.setLayout(jPanel62Layout);
        jPanel62Layout.setHorizontalGroup(
            jPanel62Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel62Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jLabel32, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(41, 41, 41))
        );
        jPanel62Layout.setVerticalGroup(
            jPanel62Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel62Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel7.setBackground(new java.awt.Color(22, 51, 61));

        jLabel4.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(242, 242, 242));
        jLabel4.setText("Tambahkan Kamar Baru");

        jLabel5.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(242, 242, 242));
        jLabel5.setText("ID Kamar          :");

        jLabel6.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(242, 242, 242));
        jLabel6.setText("ID Tipe Kamar  :");

        jLabel8.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(242, 242, 242));
        jLabel8.setText("Nomor Kamar  :");

        jLabel9.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(242, 242, 242));
        jLabel9.setText("Status              : ");

        idKamarBaruLabel.setAlignmentX(2.0F);
        idKamarBaruLabel.setEnabled(false);
        idKamarBaruLabel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                idKamarBaruLabelActionPerformed(evt);
            }
        });

        nomorKamarBaruLabel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nomorKamarBaruLabelActionPerformed(evt);
            }
        });

        batalTambahKamarButton.setText("Batal");
        batalTambahKamarButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                batalTambahKamarButtonActionPerformed(evt);
            }
        });

        tambahKamarButton.setText("Tambah");
        tambahKamarButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tambahKamarButtonActionPerformed(evt);
            }
        });

        statusKamarBaruComboBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "<status kamar>", "tersedia", "terisi", "maintenance" }));

        IDTipeKamarBaruComboBox.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "<tipe>", "Tipe A", "Tipe B", "Tipe C", "Tipe D" }));
        IDTipeKamarBaruComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                IDTipeKamarBaruComboBoxActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(29, 29, 29)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel4)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel7Layout.createSequentialGroup()
                                        .addComponent(jLabel5)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(3, 3, 3)))
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(idKamarBaruLabel)
                                    .addComponent(IDTipeKamarBaruComboBox, 0, 166, Short.MAX_VALUE))
                                .addGap(46, 46, 46)
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jLabel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jLabel9, javax.swing.GroupLayout.DEFAULT_SIZE, 104, Short.MAX_VALUE)))
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addComponent(tambahKamarButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(batalTambahKamarButton)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(nomorKamarBaruLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 166, Short.MAX_VALUE)
                            .addComponent(statusKamarBaruComboBox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel9)
                        .addComponent(statusKamarBaruComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(26, 26, 26)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel5)
                            .addComponent(jLabel8)
                            .addComponent(idKamarBaruLabel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(nomorKamarBaruLabel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(8, 8, 8)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel6)
                            .addComponent(IDTipeKamarBaruComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tambahKamarButton)
                    .addComponent(batalTambahKamarButton))
                .addContainerGap(32, Short.MAX_VALUE))
        );

        jPanel8.setBackground(new java.awt.Color(22, 51, 61));

        cariIDKamar.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        cariIDKamar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cariIDKamarActionPerformed(evt);
            }
        });

        jLabel16.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(225, 225, 225));
        jLabel16.setText("Hasil Pencarian Kamar");

        tabelHasilPencarian.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null}
            },
            new String [] {
                "ID Kamar", "Tipe Kamar", "Nomor Kamar", "ID Penghuni", "Status"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane8.setViewportView(tabelHasilPencarian);

        ubahKamarButton.setText("Ubah");
        ubahKamarButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ubahKamarButtonActionPerformed(evt);
            }
        });

        simpanPerubahanKamar.setText("Simpan");
        simpanPerubahanKamar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                simpanPerubahanKamarActionPerformed(evt);
            }
        });

        batalPerubahan.setText("Batal");
        batalPerubahan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                batalPerubahanActionPerformed(evt);
            }
        });

        hapusKamarButton.setText("Hapus");
        hapusKamarButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                hapusKamarButtonActionPerformed(evt);
            }
        });

        jTextField5.setBackground(new java.awt.Color(5, 11, 14));
        jTextField5.setForeground(new java.awt.Color(102, 102, 102));
        jTextField5.setText("Cari kamar berdasarkan ID Kamar");
        jTextField5.setEnabled(false);
        jTextField5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField5ActionPerformed(evt);
            }
        });

        cariButton.setText("Cari");
        cariButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cariButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(29, 29, 29)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jLabel16)
                        .addGap(442, 442, 442))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addComponent(ubahKamarButton)
                                .addGap(18, 18, 18)
                                .addComponent(simpanPerubahanKamar)
                                .addGap(18, 18, 18)
                                .addComponent(batalPerubahan)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(hapusKamarButton))
                            .addComponent(jScrollPane8, javax.swing.GroupLayout.PREFERRED_SIZE, 788, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cariIDKamar, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cariButton)))
                        .addContainerGap(21, Short.MAX_VALUE))))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap(25, Short.MAX_VALUE)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cariIDKamar, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cariButton, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel16)
                .addGap(10, 10, 10)
                .addComponent(jScrollPane8, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ubahKamarButton)
                    .addComponent(simpanPerubahanKamar)
                    .addComponent(batalPerubahan)
                    .addComponent(hapusKamarButton))
                .addGap(62, 62, 62))
        );

        javax.swing.GroupLayout jPanel61Layout = new javax.swing.GroupLayout(jPanel61);
        jPanel61.setLayout(jPanel61Layout);
        jPanel61Layout.setHorizontalGroup(
            jPanel61Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel61Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(jPanel62, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel61Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(49, Short.MAX_VALUE))
        );
        jPanel61Layout.setVerticalGroup(
            jPanel61Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel61Layout.createSequentialGroup()
                .addContainerGap(16, Short.MAX_VALUE)
                .addGroup(jPanel61Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel62, javax.swing.GroupLayout.DEFAULT_SIZE, 483, Short.MAX_VALUE)
                    .addGroup(jPanel61Layout.createSequentialGroup()
                        .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(50, 50, 50))
        );

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel61, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jPanel61, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 233, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Kelola Kamar", jPanel4);

        jPanel59.setBackground(new java.awt.Color(9, 21, 25));

        statistikKamar1.setBackground(new java.awt.Color(22, 51, 61));

        totalPenghuniLabel.setBackground(new java.awt.Color(255, 255, 204));
        totalPenghuniLabel.setFont(new java.awt.Font("SansSerif", 0, 48)); // NOI18N
        totalPenghuniLabel.setForeground(new java.awt.Color(255, 255, 204));
        totalPenghuniLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalPenghuniLabel.setText("0");

        jLabel12.setFont(new java.awt.Font("SansSerif", 0, 24)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(255, 255, 204));
        jLabel12.setText("Total Penghuni");

        jLabel13.setFont(new java.awt.Font("SansSerif", 1, 48)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(255, 255, 204));
        jLabel13.setText("Statistik Penghuni");

        javax.swing.GroupLayout statistikKamar1Layout = new javax.swing.GroupLayout(statistikKamar1);
        statistikKamar1.setLayout(statistikKamar1Layout);
        statistikKamar1Layout.setHorizontalGroup(
            statistikKamar1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, statistikKamar1Layout.createSequentialGroup()
                .addGap(69, 69, 69)
                .addComponent(jLabel13)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(statistikKamar1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, statistikKamar1Layout.createSequentialGroup()
                        .addComponent(jLabel12)
                        .addGap(29, 29, 29))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, statistikKamar1Layout.createSequentialGroup()
                        .addComponent(totalPenghuniLabel)
                        .addGap(96, 96, 96))))
        );
        statistikKamar1Layout.setVerticalGroup(
            statistikKamar1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(statistikKamar1Layout.createSequentialGroup()
                .addGroup(statistikKamar1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(statistikKamar1Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(jLabel12)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(totalPenghuniLabel))
                    .addGroup(statistikKamar1Layout.createSequentialGroup()
                        .addGap(35, 35, 35)
                        .addComponent(jLabel13)))
                .addContainerGap(23, Short.MAX_VALUE))
        );

        penghuniTable.setForeground(new java.awt.Color(0, 102, 0));
        penghuniTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null}
            },
            new String [] {
                "ID Penghuni", "ID Kamar", "Nama Penghuni", "Telepon", "Email", "Alamat Asal", "Tanggal Masuk", "Tanggal Keluar"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        penghuniTable.setAlignmentX(3.0F);
        jScrollPane2.setViewportView(penghuniTable);

        jPanel58.setBackground(new java.awt.Color(22, 51, 61));
        jPanel58.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jPanel58.setMaximumSize(new java.awt.Dimension(32767, 320));
        jPanel58.setPreferredSize(new java.awt.Dimension(133, 200));

        jLabel27.setBackground(new java.awt.Color(255, 255, 204));
        jLabel27.setFont(new java.awt.Font("SansSerif", 0, 18)); // NOI18N
        jLabel27.setForeground(new java.awt.Color(255, 255, 204));
        jLabel27.setText("Coscostan");

        javax.swing.GroupLayout jPanel58Layout = new javax.swing.GroupLayout(jPanel58);
        jPanel58.setLayout(jPanel58Layout);
        jPanel58Layout.setHorizontalGroup(
            jPanel58Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel58Layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jLabel27, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(41, 41, 41))
        );
        jPanel58Layout.setVerticalGroup(
            jPanel58Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel58Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(554, Short.MAX_VALUE))
        );

        refreshPenghuni.setText("Refresh Data");
        refreshPenghuni.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshPenghuniActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel59Layout = new javax.swing.GroupLayout(jPanel59);
        jPanel59.setLayout(jPanel59Layout);
        jPanel59Layout.setHorizontalGroup(
            jPanel59Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel59Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(jPanel58, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel59Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel59Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 875, Short.MAX_VALUE)
                        .addComponent(statistikKamar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(refreshPenghuni, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel59Layout.setVerticalGroup(
            jPanel59Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel59Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel59Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel59Layout.createSequentialGroup()
                        .addComponent(statistikKamar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 271, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(71, 71, 71)
                        .addComponent(refreshPenghuni, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel58, javax.swing.GroupLayout.PREFERRED_SIZE, 627, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(139, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel59, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jPanel59, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("Statistik Penghuni", jPanel5);

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1050, Short.MAX_VALUE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 782, Short.MAX_VALUE)
        );

        jTabbedPane1.addTab("tab6", jPanel6);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnRefreshDashboardActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRefreshDashboardActionPerformed
        updateDashboardStatistics();
    }//GEN-LAST:event_btnRefreshDashboardActionPerformed

    private void logoutButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_logoutButtonActionPerformed
        parentForm.setVisible(true);
        this.dispose();
    }//GEN-LAST:event_logoutButtonActionPerformed

    private void hapusKamarButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_hapusKamarButtonActionPerformed
        if (currentKamarId <= 0) {
            JOptionPane.showMessageDialog(this, "Tidak ada data yang dipilih!", "Error", JOptionPane.ERROR_MESSAGE);
            return;
        }

        int confirm = JOptionPane.showConfirmDialog(this, 
            "Yakin hapus kamar ID " + currentKamarId + "?\nData yang dihapus tidak dapat dikembalikan!", 
            "Konfirmasi Hapus", 
            JOptionPane.YES_NO_OPTION);

        if (confirm == JOptionPane.YES_OPTION) {
            try {
                KamarDAO kamarDAO = new KamarDAO();
                boolean success = kamarDAO.delete(currentKamarId);

                if (success) {
                    JOptionPane.showMessageDialog(this, "Data berhasil dihapus!", "Success", JOptionPane.INFORMATION_MESSAGE);

                    // Reset form
                    resetSearchForm();
                    resetAllButtons();

                    // Refresh data utama
                    loadKamarDataToTable();
                } else {
                    JOptionPane.showMessageDialog(this, "Gagal menghapus data!", "Error", JOptionPane.ERROR_MESSAGE);
                }

            } catch (Exception ex) {
                JOptionPane.showMessageDialog(this, "Error: " + ex.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
                ex.printStackTrace();
            }
        }
    }//GEN-LAST:event_hapusKamarButtonActionPerformed

    private void batalPerubahanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_batalPerubahanActionPerformed
        // Reload data asli dari database
        if (currentKamarId > 0) {
            // Panggil lagi method cari untuk reload data original
            cariIDKamar.setText(String.valueOf(currentKamarId));
            cariButtonActionPerformed(evt);
        }

        // Kembalikan ke state normal
        resetTableToReadOnly();
        setEditDeleteButtonsEnabled(true);
        setSaveCancelButtonsEnabled(false);

        JOptionPane.showMessageDialog(this, "Perubahan dibatalkan", "Info", JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_batalPerubahanActionPerformed

    private void simpanPerubahanKamarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_simpanPerubahanKamarActionPerformed
        try {
            DefaultTableModel model = (DefaultTableModel) tabelHasilPencarian.getModel();

            if (model.getRowCount() == 0) {
                JOptionPane.showMessageDialog(this, "Tidak ada data untuk disimpan!", "Error", JOptionPane.ERROR_MESSAGE);
                return;
            }

            // Ambil data dari tabel
            int idKamar = (int) model.getValueAt(0, 0);
            String newStatus = (String) model.getValueAt(0, 4);

            // Validasi status
            if (!newStatus.equals("tersedia") && !newStatus.equals("terisi") && !newStatus.equals("maintenance")) {
                JOptionPane.showMessageDialog(this, "Status tidak valid!", "Error", JOptionPane.ERROR_MESSAGE);
                return;
            }

            // Update ke database
            KamarDAO kamarDAO = new KamarDAO();
            boolean success = kamarDAO.updateStatus(idKamar, newStatus);

            if (success) {
                JOptionPane.showMessageDialog(this, "Data berhasil diupdate!", "Success", JOptionPane.INFORMATION_MESSAGE);

                // Kembalikan ke state normal
                resetTableToReadOnly();
                setEditDeleteButtonsEnabled(true);
                setSaveCancelButtonsEnabled(false);

                // Refresh data utama
                loadKamarDataToTable();
            } else {
                JOptionPane.showMessageDialog(this, "Gagal update data!", "Error", JOptionPane.ERROR_MESSAGE);
            }

        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Error: " + ex.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }
    }//GEN-LAST:event_simpanPerubahanKamarActionPerformed

    private void ubahKamarButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ubahKamarButtonActionPerformed
        // Aktifkan mode edit - buat kolom status menjadi editable
        DefaultTableModel model = (DefaultTableModel) tabelHasilPencarian.getModel();

        // Buat combo box untuk kolom status
        JComboBox<String> statusComboBox = new JComboBox<>(new String[]{"tersedia", "terisi", "maintenance"});

        // Set cell editor untuk kolom status (kolom index 4)
        tabelHasilPencarian.getColumnModel().getColumn(4).setCellEditor(new DefaultCellEditor(statusComboBox));

        // Aktifkan button simpan/batal, non-aktifkan edit/hapus
        setEditDeleteButtonsEnabled(false);
        setSaveCancelButtonsEnabled(true);

        JOptionPane.showMessageDialog(this, "Mode Edit: Klik pada kolom Status untuk mengubah", "Edit Mode", JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_ubahKamarButtonActionPerformed

    private void cariIDKamarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cariIDKamarActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cariIDKamarActionPerformed

    private void jTextField5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField5ActionPerformed

    private void idKamarBaruLabelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_idKamarBaruLabelActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_idKamarBaruLabelActionPerformed

    private void nomorKamarBaruLabelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nomorKamarBaruLabelActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_nomorKamarBaruLabelActionPerformed

    private void tambahKamarButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tambahKamarButtonActionPerformed

    if (!validateTambahKamarInput()) {
        return;
    }
    
    try {
        // Ambil data dari form
        int idTipeKamar = getSelectedTipeKamarId();
        int nomorKamar = Integer.parseInt(nomorKamarBaruLabel.getText().trim());
        String status = (String) statusKamarBaruComboBox.getSelectedItem();
        String selectedTipe = (String) IDTipeKamarBaruComboBox.getSelectedItem();
        
        // Debug: Check predicted ID
        String labelText = idKamarBaruLabel.getText();
        System.out.println("Label text: " + labelText); // Debug
        
        // Handle case jika label menunjukkan error
        if (labelText.contains("Error")) {
            JOptionPane.showMessageDialog(this, 
                "Tidak dapat memprediksi ID. Silakan refresh form.", 
                "Error", 
                JOptionPane.ERROR_MESSAGE);
            return;
        }
        
        // Extract predicted ID dengan lebih aman
        String predictedIdText = labelText.replace("Auto generate : ", "").trim();
        System.out.println("Predicted ID text: " + predictedIdText); // Debug
        
        int predictedId;
        try {
            predictedId = Integer.parseInt(predictedIdText);
        } catch (NumberFormatException ex) {
            // Jika gagal parse, gunakan prediksi sederhana
            predictedId = 0; // Akan diganti oleh auto-increment database
        }
        
        // Konfirmasi sebelum save (tanpa predicted ID jika 0)
        String confirmMessage = "Konfirmasi Tambah Kamar:\n" +
            "Tipe Kamar: " + selectedTipe + "\n" +
            "Nomor Kamar: " + nomorKamar + "\n" +
            "Status: " + status + "\n\n";
            
        if (predictedId > 0) {
            confirmMessage = "ID Kamar: " + predictedId + " (Auto generate)\n" + confirmMessage;
        }
        
        confirmMessage += "Apakah data sudah benar?";
        
        int confirm = JOptionPane.showConfirmDialog(this, 
            confirmMessage,
            "Konfirmasi Tambah Kamar",
            JOptionPane.YES_NO_OPTION);
        
        if (confirm != JOptionPane.YES_OPTION) {
            return;
        }
        
        // Buat object Kamar baru
        Kamar kamarBaru = new Kamar(idTipeKamar, nomorKamar, status);
        
        // Simpan ke database
        KamarDAO kamarDAO = new KamarDAO();
        boolean success = kamarDAO.insert(kamarBaru);
        
        if (success) {
            // Get actual ID yang di-generate oleh database
            Kamar kamarYangBaruDitambah = kamarDAO.getByNomorKamar(nomorKamar);
            int actualId = kamarYangBaruDitambah != null ? kamarYangBaruDitambah.getIdKamar() : 0;
            
            String successMessage = "Kamar berhasil ditambahkan!\n" +
                "Tipe Kamar: " + selectedTipe + "\n" +
                "Nomor Kamar: " + nomorKamar + "\n" +
                "Status: " + status;
                
            if (actualId > 0) {
                successMessage = "ID Kamar: " + actualId + "\n" + successMessage;
            }
            
            JOptionPane.showMessageDialog(this, 
                successMessage, 
                "Success", 
                JOptionPane.INFORMATION_MESSAGE);
            
            // Reset form
            initTambahKamarForm();
            
            // Refresh data di tab statistik kamar
            loadKamarDataToTable();
            
            // Refresh dashboard
            updateDashboardStatistics();
            
        } else {
            JOptionPane.showMessageDialog(this, 
                "Gagal menambah kamar!", 
                "Error", 
                JOptionPane.ERROR_MESSAGE);
        }
        
    } catch (Exception ex) {
        JOptionPane.showMessageDialog(this, 
            "Error: " + ex.getMessage(), 
            "Error", 
            JOptionPane.ERROR_MESSAGE);
        ex.printStackTrace();
    }
    }//GEN-LAST:event_tambahKamarButtonActionPerformed

    private void batalTambahKamarButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_batalTambahKamarButtonActionPerformed
        int confirm = JOptionPane.showConfirmDialog(this, 
        "Yakin ingin membatalkan? Data yang sudah diinput akan hilang.", 
        "Konfirmasi Batal", 
        JOptionPane.YES_NO_OPTION);
    
        if (confirm == JOptionPane.YES_OPTION) {
            initTambahKamarForm();
            JOptionPane.showMessageDialog(this, 
                "Form telah direset", 
                "Info", 
                JOptionPane.INFORMATION_MESSAGE);
        }
    }//GEN-LAST:event_batalTambahKamarButtonActionPerformed

    private void cariButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cariButtonActionPerformed
        try {
            String idText = cariIDKamar.getText().trim();

            if (idText.isEmpty()) {
                JOptionPane.showMessageDialog(this, "Masukkan ID Kamar!", "Error", JOptionPane.ERROR_MESSAGE);
                return;
            }

            int idKamar = Integer.parseInt(idText);
            KamarDAO kamarDAO = new KamarDAO();
            TipeKamarDAO tipeKamarDAO = new TipeKamarDAO();
            PenghuniDAO penghuniDAO = new PenghuniDAO();

            // Cari kamar by ID
            Kamar kamar = kamarDAO.getById(idKamar);

            if (kamar == null) {
                // Kosongkan tabel hasil
                DefaultTableModel model = (DefaultTableModel) tabelHasilPencarian.getModel();
                model.setRowCount(0);

                // Non-aktifkan button edit/hapus
                setEditDeleteButtonsEnabled(false);
                JOptionPane.showMessageDialog(this, "Kamar dengan ID " + idKamar + " tidak ditemukan!", "Not Found", JOptionPane.WARNING_MESSAGE);
                return;
            }

            // Kamar ditemukan, tampilkan di tabel hasil
            DefaultTableModel model = (DefaultTableModel) tabelHasilPencarian.getModel();
            model.setRowCount(0); // Clear previous results

            // Get additional data
            TipeKamar tipe = tipeKamarDAO.getById(kamar.getIdTipeKamar());
            String namaPenghuni = "Kosong";
            if (kamar.getIdPenghuni() != null) {
                Penghuni penghuni = penghuniDAO.getById(kamar.getIdPenghuni());
                if (penghuni != null) {
                    namaPenghuni = penghuni.getNamaPenghuni();
                }
            }

            // Add to results table
            model.addRow(new Object[]{
                kamar.getIdKamar(),
                "Tipe " + tipe.getTipeKamar(),
                namaPenghuni,
                kamar.getNomorKamar(),
                kamar.getStatus()
            });

            // Aktifkan button edit/hapus
            setEditDeleteButtonsEnabled(true);
            setSaveCancelButtonsEnabled(false);

            // Simpan ID kamar yang sedang dicari untuk operasi selanjutnya
            currentKamarId = idKamar;

        } catch (NumberFormatException ex) {
            JOptionPane.showMessageDialog(this, "ID Kamar harus angka!", "Error", JOptionPane.ERROR_MESSAGE);
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Error: " + ex.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }
    }//GEN-LAST:event_cariButtonActionPerformed

    private void refreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshActionPerformed
        updateDashboardStatistics();
    }//GEN-LAST:event_refreshActionPerformed

    private void IDTipeKamarBaruComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_IDTipeKamarBaruComboBoxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_IDTipeKamarBaruComboBoxActionPerformed

    private void refreshPenghuniActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshPenghuniActionPerformed
        loadPenghuniDataToTable();
        updatePenghuniStatistics();

        JOptionPane.showMessageDialog(this, 
            "Data penghuni berhasil di-refresh!", 
            "Success", 
            JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_refreshPenghuniActionPerformed

    private void loadKamarDataToTable() {
    try {
        KamarDAO kamarDAO = new KamarDAO();
        TipeKamarDAO tipeKamarDAO = new TipeKamarDAO();
        PenghuniDAO penghuniDAO = new PenghuniDAO();
        
        // === HITUNG STATISTIK ===
        java.util.List<coscostan.model.Kamar> semuaKamar = kamarDAO.getAll();
        java.util.List<coscostan.model.Kamar> kamarTerisi = kamarDAO.getByStatus("terisi");
        java.util.List<coscostan.model.Kamar> kamarTersedia = kamarDAO.getByStatus("tersedia");
        java.util.List<coscostan.model.Kamar> kamarMaintenance = kamarDAO.getByStatus("maintenance");
        
        // === UPDATE LABEL STATISTIK ===
        totalKamarLabel.setText(String.valueOf(semuaKamar.size()));
        kamarTerisiLabel.setText(String.valueOf(kamarTerisi.size()));
        kamarKosongLabel.setText(String.valueOf(kamarTersedia.size()));
        kamarMaintenanceLabel.setText(String.valueOf(kamarMaintenance.size()));
        
        // === UPDATE TABEL ===
        javax.swing.table.DefaultTableModel model = (javax.swing.table.DefaultTableModel) kamarTable.getModel();
        model.setRowCount(0); // Clear existing data
        
        for (coscostan.model.Kamar kamar : semuaKamar) {
            // Get tipe kamar (huruf)
            coscostan.model.TipeKamar tipe = tipeKamarDAO.getById(kamar.getIdTipeKamar());
            String tipeKamar = tipe.getTipeKamar();
            
            // Get nama penghuni (jika ada)
            int IDPenghuni = 0;
            if (kamar.getIdPenghuni() != null) {
                coscostan.model.Penghuni penghuni = penghuniDAO.getById(kamar.getIdPenghuni());
                if (penghuni != null) {
                    IDPenghuni = penghuni.getIdPenghuni();
                }
            }
            
            // Add row to table
            model.addRow(new Object[]{
                kamar.getIdKamar(),
                tipeKamar,
                kamar.getNomorKamar(),
                IDPenghuni,
                kamar.getStatus()
            });
        }
        
        // Auto-adjust column widths
        packTableColumns();
        
    } catch (Exception ex) {
        javax.swing.JOptionPane.showMessageDialog(this, 
            "Error loading data: " + ex.getMessage(), 
            "Error", 
            javax.swing.JOptionPane.ERROR_MESSAGE);
        ex.printStackTrace();
    }
}
    
    private void updateDashboardStatistics() {
        try {
            KamarDAO kamarDAO = new KamarDAO();
            PenghuniDAO penghuniDAO = new PenghuniDAO();
            TipeKamarDAO tipeKamarDAO = new TipeKamarDAO();

            // Ambil data dari database
            int totalKamar = kamarDAO.getAll().size();
            int totalPenghuni = penghuniDAO.countPenghuniAktif();
            int totalTipeKamar = tipeKamarDAO.getAll().size();

            // Update label dengan data real
            totalKamarField.setText(String.valueOf(totalKamar));
            totalPenghuniField.setText(String.valueOf(totalPenghuni)); 
            totalTipeKamarField.setText(String.valueOf(totalTipeKamar));
            adminUsernameLabel.setText(username); // Username admin yang login

        } catch (Exception ex) {
            javax.swing.JOptionPane.showMessageDialog(this, 
                "Error loading dashboard data: " + ex.getMessage(), 
                "Error", 
                javax.swing.JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }
    }
    
    private void packTableColumns() {
    for (int column = 0; column < kamarTable.getColumnCount(); column++) {
        javax.swing.table.TableColumn tableColumn = kamarTable.getColumnModel().getColumn(column);
        int preferredWidth = tableColumn.getMinWidth();
        int maxWidth = tableColumn.getMaxWidth();
        
        for (int row = 0; row < kamarTable.getRowCount(); row++) {
            javax.swing.table.TableCellRenderer cellRenderer = kamarTable.getCellRenderer(row, column);
            java.awt.Component c = kamarTable.prepareRenderer(cellRenderer, row, column);
            int width = c.getPreferredSize().width + kamarTable.getIntercellSpacing().width;
            preferredWidth = Math.max(preferredWidth, width);
            
            if (preferredWidth >= maxWidth) {
                preferredWidth = maxWidth;
                break;
            }
        }
        
        tableColumn.setPreferredWidth(preferredWidth);
    }
}
    
    private int currentKamarId = 0;
    
    private void resetTableToReadOnly() {
        // Kembalikan cell editor default (read-only)
        for (int i = 0; i < tabelHasilPencarian.getColumnCount(); i++) {
            tabelHasilPencarian.getColumnModel().getColumn(i).setCellEditor(null);
        }
    }

    private void resetSearchForm() {
        cariIDKamar.setText("");
        DefaultTableModel model = (DefaultTableModel) tabelHasilPencarian.getModel();
        model.setRowCount(0);
        currentKamarId = 0;
    }
    
    private void setEditDeleteButtonsEnabled(boolean enabled) {
        ubahKamarButton.setEnabled(enabled);
        hapusKamarButton.setEnabled(enabled);
    }

    private void setSaveCancelButtonsEnabled(boolean enabled) {
        simpanPerubahanKamar.setEnabled(enabled);
        batalPerubahan.setEnabled(enabled);
    }

    private boolean validateTambahKamarInput() {
        String nomorKamarText = nomorKamarBaruLabel.getText().trim();
    
        // Validasi Tipe Kamar (sekarang dari combo box)
        int idTipeKamar = getSelectedTipeKamarId();
        if (idTipeKamar == -1) {
            JOptionPane.showMessageDialog(this, "Pilih Tipe Kamar yang valid!", "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }

        // Validasi Nomor Kamar
        if (nomorKamarText.isEmpty()) {
            JOptionPane.showMessageDialog(this, "Nomor Kamar harus diisi!", "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }

        try {
            int nomorKamar = Integer.parseInt(nomorKamarText);
            if (nomorKamar < 100 || nomorKamar > 999) {
                JOptionPane.showMessageDialog(this, "Nomor Kamar harus antara 100-999!", "Error", JOptionPane.ERROR_MESSAGE);
                return false;
            }

            // Cek apakah nomor kamar sudah ada
            KamarDAO kamarDAO = new KamarDAO();
            Kamar existingKamar = kamarDAO.getByNomorKamar(nomorKamar);
            if (existingKamar != null) {
                JOptionPane.showMessageDialog(this, "Nomor Kamar " + nomorKamar + " sudah ada!", "Error", JOptionPane.ERROR_MESSAGE);
                return false;
            }
        } catch (NumberFormatException ex) {
            JOptionPane.showMessageDialog(this, "Nomor Kamar harus angka!", "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }

        return true;
    }
    
    private void resetAllButtons() {
        setEditDeleteButtonsEnabled(false);
        setSaveCancelButtonsEnabled(false);
    }
    
    private void onTambahKamarTabSelected() {
        updateIdKamarBaruLabel();
    }
            
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ReflectiveOperationException | javax.swing.UnsupportedLookAndFeelException ex) {
            logger.log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(() -> new Admin().setVisible(true));
    }
    
    private void loadTipeKamarToComboBox() {
    try {
        TipeKamarDAO tipeDAO = new TipeKamarDAO();
        List<TipeKamar> tipeKamars = tipeDAO.getAll();
        
        // Clear existing items
        IDTipeKamarBaruComboBox.removeAllItems();
        
        // Add items to combo box
        for (TipeKamar tipe : tipeKamars) {
            IDTipeKamarBaruComboBox.addItem("Tipe " + tipe.getTipeKamar());
        }
        
    } catch (Exception ex) {
        JOptionPane.showMessageDialog(this, 
            "Error loading tipe kamar: " + ex.getMessage(), 
            "Error", 
            JOptionPane.ERROR_MESSAGE);
        ex.printStackTrace();
    }
}

    // Method untuk mendapatkan ID tipe kamar dari pilihan combo box
    private int getSelectedTipeKamarId() {
        String selectedTipe = (String) IDTipeKamarBaruComboBox.getSelectedItem();
        if (selectedTipe != null) {
            // Extract huruf tipe dari "Tipe A" -> "A"
            String tipeHuruf = selectedTipe.replace("Tipe ", "").trim();

            TipeKamarDAO tipeDAO = new TipeKamarDAO();
            TipeKamar tipe = tipeDAO.getByTipe(tipeHuruf);

            if (tipe != null) {
                return tipe.getIdTipeKamar();
            }
        }
        return -1; // Return -1 jika tidak ditemukan
    }

    // Method untuk update ID real-time ketika input berubah
    private void setupRealTimeIdUpdate() {
        javax.swing.event.DocumentListener docListener = new javax.swing.event.DocumentListener() {
            public void insertUpdate(javax.swing.event.DocumentEvent e) { updateIdKamarBaruLabel(); }
            public void removeUpdate(javax.swing.event.DocumentEvent e) { updateIdKamarBaruLabel(); }
            public void changedUpdate(javax.swing.event.DocumentEvent e) { updateIdKamarBaruLabel(); }
        };

        nomorKamarBaruLabel.getDocument().addDocumentListener(docListener);

        // Juga update ketika combo box tipe kamar berubah
        IDTipeKamarBaruComboBox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                updateIdKamarBaruLabel();
            }
        });
    }

    // Method untuk generate dan tampilkan ID kamar berikutnya
    private void updateIdKamarBaruLabel() {
        try {
            KamarDAO kamarDAO = new KamarDAO();
            List<Kamar> semuaKamar = kamarDAO.getAll();

            System.out.println("Jumlah kamar di database: " + semuaKamar.size()); // Debug

            // Cari ID tertinggi untuk predict next ID
            int maxId = 0;
            for (Kamar kamar : semuaKamar) {
                System.out.println("Kamar ID: " + kamar.getIdKamar()); // Debug
                if (kamar.getIdKamar() > maxId) {
                    maxId = kamar.getIdKamar();
                }
            }

            int nextId = maxId + 1;
            System.out.println("Next predicted ID: " + nextId); // Debug

            idKamarBaruLabel.setText("Auto generate : " + nextId);

        } catch (Exception ex) {
            System.err.println("Error in updateIdKamarBaruLabel: " + ex.getMessage()); // Debug
            ex.printStackTrace();
            idKamarBaruLabel.setText("Auto generate : Error");
        }
    }

    // Method untuk load data penghuni ke tabel
    private void loadPenghuniDataToTable() {
        try {
            PenghuniDAO penghuniDAO = new PenghuniDAO();
            DefaultTableModel model = (DefaultTableModel) penghuniTable.getModel();
            model.setRowCount(0); // Clear existing data

            // Get all penghuni from database
            java.util.List<coscostan.model.Penghuni> semuaPenghuni = penghuniDAO.getAll();

            for (coscostan.model.Penghuni penghuni : semuaPenghuni) {

                java.util.Date tanggalMasuk = penghuni.getTanggalMasuk();
                java.util.Date tanggalKeluar = penghuni.getTanggalKeluar();

                // Handle nullable fields
                String email = penghuni.getEmail() != null ? penghuni.getEmail() : "-";
                String alamatAsal = penghuni.getAlamatAsal() != null ? penghuni.getAlamatAsal() : "-";

                // Add row to table
                model.addRow(new Object[]{
                    penghuni.getIdPenghuni(),
                    penghuni.getIdKamar(),
                    penghuni.getNamaPenghuni(),
                    penghuni.getKontak(),
                    email,
                    alamatAsal,
                    tanggalMasuk,
                    tanggalKeluar
                });
            }

        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, 
                "Error loading data penghuni: " + ex.getMessage(), 
                "Error", 
                JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }
    }

    // Method untuk update statistik penghuni
    private void updatePenghuniStatistics() {
        try {
            PenghuniDAO penghuniDAO = new PenghuniDAO();
            KamarDAO kamarDAO = new KamarDAO();

            // Hitung statistik dari database
            int totalPenghuniAktif = penghuniDAO.countTotalPenghuniAktif();

            // Update label statistik
            totalPenghuniLabel.setText(String.valueOf(totalPenghuniAktif));

        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, 
                "Error loading penghuni statistics: " + ex.getMessage(), 
                "Error", 
                JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }
    }


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<String> IDTipeKamarBaruComboBox;
    private javax.swing.JLabel adminUsernameLabel;
    private javax.swing.JButton batalPerubahan;
    private javax.swing.JButton batalTambahKamarButton;
    private javax.swing.JButton btnRefreshDashboard;
    private javax.swing.JButton cariButton;
    private javax.swing.JTextField cariIDKamar;
    private javax.swing.JButton hapusKamarButton;
    private javax.swing.JTextField idKamarBaruLabel;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabel94;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel38;
    private javax.swing.JPanel jPanel39;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel45;
    private javax.swing.JPanel jPanel46;
    private javax.swing.JPanel jPanel47;
    private javax.swing.JPanel jPanel48;
    private javax.swing.JPanel jPanel49;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel50;
    private javax.swing.JPanel jPanel51;
    private javax.swing.JPanel jPanel52;
    private javax.swing.JPanel jPanel53;
    private javax.swing.JPanel jPanel54;
    private javax.swing.JPanel jPanel56;
    private javax.swing.JPanel jPanel57;
    private javax.swing.JPanel jPanel58;
    private javax.swing.JPanel jPanel59;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel61;
    private javax.swing.JPanel jPanel62;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JLabel kamarKosongLabel;
    private javax.swing.JLabel kamarMaintenanceLabel;
    private javax.swing.JTable kamarTable;
    private javax.swing.JLabel kamarTerisiLabel;
    private javax.swing.JButton logoutButton;
    private javax.swing.JTextField nomorKamarBaruLabel;
    private javax.swing.JTable penghuniTable;
    private javax.swing.JButton refresh;
    private javax.swing.JButton refreshPenghuni;
    private javax.swing.JButton simpanPerubahanKamar;
    private javax.swing.JPanel statistikKamar;
    private javax.swing.JPanel statistikKamar1;
    private javax.swing.JComboBox<String> statusKamarBaruComboBox;
    private javax.swing.JTable tabelHasilPencarian;
    private javax.swing.JButton tambahKamarButton;
    private javax.swing.JLabel totalKamarField;
    private javax.swing.JLabel totalKamarLabel;
    private javax.swing.JLabel totalPenghuniField;
    private javax.swing.JLabel totalPenghuniLabel;
    private javax.swing.JLabel totalRequestLabel;
    private javax.swing.JLabel totalTipeKamarField;
    private javax.swing.JButton ubahKamarButton;
    // End of variables declaration//GEN-END:variables
}
